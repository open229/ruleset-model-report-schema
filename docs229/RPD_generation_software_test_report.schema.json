{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "RPD Generation Software Testing Report",
    "description": "Schema addition for describing the test outcomes of ASHRAE 229 RPD Generation Software Testing",
    "definitions": {
        "RulesetProjectDescriptionGenerationSoftwareTestReport": {
            "type": "object",
            "properties": {
                "generation_software_name": {
                    "description": "Name of the ruleset project description generation software",
                    "type": "string"
                },
                "generation_software_version": {
                    "description": "Version of the ruleset project description generation software",
                    "type": "string",
                    "notes": "Version naming/numbering convention is not defined"
                },
                "modeling_software_name": {
                    "description": "Name of the building performance modeling software used in testing",
                    "type": "string"
                },
                "modeling_software_version": {
                    "description": "Version of the building performance modeling software used in testing",
                    "type": "string",
                    "notes": "Version naming/numbering convention as defined by the modeling software"
                },
                "schema_version": {
                    "description": "Version of the ruleset evaluation schema used in testing",
                    "type": "string",
                    "notes": "Version naming/numbering convention as defined by the schema"
                },
                "ruleset_name": {
                    "description": "Name of the ruleset for which compliance is demonstrated",
                    "type": "string"
                },
                "ruleset_checking_specification_name": {
                    "description": "Name of the ruleset checking specification for which compliance is demonstrated",
                    "type": "string"
                },
                "test_case_reports": {
                    "description": "Results of the test cases",
                    "type": "array",
                    "items": {
                        "$ref": "RPD_generation_software_test_report.schema.json#/definitions/TestCaseReport"
                    }
                }
            },
            "additionalProperties": false
        },
        "TestCaseReport": {
            "type": "object",
            "properties": {
                "test_id": {
                    "description": "ID corresponding to the ruleset checking specification test ID",
                    "type": "string"
                },
                "generated_file_name": {
                    "description": "Name of the ruleset project description file generated by the ruleset project description generation software",
                    "type": "string"
                },
                "files_utilized": {
                    "description": "Names of all user and software created files utilized by the ruleset project description generation software to produce the values used in creating the associated ruleset project description",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "specification_tests": {
                    "description": "Specification tests of the test case",
                    "type": "array",
                    "items": {
                        "$ref": "RPD_generation_software_test_report.schema.json#/definitions/SpecificationTest"
                    }
                }
            },
            "additionalProperties": false
        },
        "SpecificationTest": {
            "type": "object",
            "properties": {
                "data_path": {
                    "description": "Data path to locate instances of the test specification within the test case",
                    "type": "string"
                },
                "evaluation_criteria": {
                    "description": "Evaluation criteria used for the test specification",
                    "$ref": "RPD_generation_software_test_report.schema.json#/definitions/EvaluationCriteriaOptions"
                },
                "test_results": {
                    "description": "Test results for various instances of the test specification within the test case",
                    "type": "array",
                    "items": {
                        "$ref": "RPD_generation_software_test_report.schema.json#/definitions/TestResult"
                    }
                },
                "notes": {
                    "description": "Notes on the test results for the test specification",
                    "type": "string"
                }
            },
            "additionalProperties": false
        },
        "TestResult": {
            "type": "object",
            "properties": {
                "generated_instance_id": {
                    "description": "ID corresponding to the instance of the data group in the generated ruleset project description file to which the test specification data element belongs",
                    "type": "string"
                },
                "reference_instance_id": {
                    "description": "ID corresponding to the instance of the data group in the reference ruleset project description file to which the test specification data element belongs",
                    "type": "string"
                },
                "data_element": {
                    "description": "Data element name corresponding to the test specification",
                    "type": "string"
                },
                "test_outcome": {
                    "description": "Outcome of the test",
                    "$ref": "RPD_generation_software_test_report.schema.json#/definitions/TestOutcomeOptions"
                }
            },
            "additionalProperties": false
        },
        "EvaluationCriteriaOptions": {
            "type": "string",
            "enum": [
                "VALUE",
                "PRESENT",
                "REFERENCE"
            ],
            "descriptions": [
                "Data elements whose values are required to match the corresponding value in the test case specification",
                "Data elements that are required to be present, but whose values cannot be checked",
                "Data elements whose values are required to match the name of the object that corresponds to the object that is named in the test case specification"
            ]
        },
        "TestOutcomeOptions": {
            "type": "string",
            "enum": [
                "MATCH",
                "DIFFER",
                "NOT_IMPLEMENTED"
            ],
            "descriptions": [
                "the required type of alignment (value, present, or reference) between the expected ruleset project description file and the ruleset project description file created by the candidate ruleset project description generation software is achieved",
                "the required type of alignment (value, present, or reference) between the expected ruleset project description file and the ruleset project description file created by the candidate ruleset project description generation software is not achieved",
                "the data element is not supported by the ruleset project description generation software"
            ]
        }
    }
}